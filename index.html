<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>STEP Question Database</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="splash-screen">
  <div class="splash-container">
    <svg class="splash-logo" width="100" height="100" viewBox="0 0 100 100">
      <circle cx="50" cy="50" r="45" stroke="url(#grad1)" stroke-width="2" fill="none" class="draw-circle" />
      <path d="M35,35 L65,35 L45,50 L65,65 L35,65" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="draw-sigma" />
      
      <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#cb9b51;stop-opacity:1" /> <stop offset="100%" style="stop-color:#f6e27a;stop-opacity:1" /> </linearGradient>
      </defs>
    </svg>

    <h1 class="splash-title">Math<span style="font-weight:300; opacity:0.8">DB</span></h1>
    <div class="splash-subtitle">Excellence in every problem</div>
  </div>
</div>

<div class="layout">

  <!-- LEFT SIDEBAR -->
  <aside class="sidebar">
    <h2>STEP Questions</h2>

    <input
      type="text"
      id="search"
      placeholder="Search (e.g. 21 S2 Q5)"
    >

    <ul id="questionList"></ul>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="content">
    <div id="viewer">
      <p class="placeholder">
        Select a question from the list.
      </p>
    </div>
  </main>

  <header class="topbar">
  <header class="topbar">
    <div class="auth-area">

      <!-- Logged OUT -->
      <div id="auth-buttons">
        <button id="login-btn">Log in</button>
        <button id="signup-btn">Sign up</button>
      </div>

      <!-- Logged IN -->
      <div id="user-menu" class="hidden">
        <button id="profile-btn" class="profile-circle">ðŸ‘¤</button>

        <div id="profile-dropdown" class="dropdown hidden">
          <button id="open-dashboard">Dashboard</button>
          <button id="logout-btn">Log out</button>
        </div>
      </div>

    </div>
  </header>

  <!-- LOGIN POPUP -->
  <div id="login-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Log in</h3>
      <input id="login-email" type="email" placeholder="Email">
      <input id="login-password" type="password" placeholder="Password">
      <button id="login-submit">Log in</button>
      <button class="close-modal">Cancel</button>
    </div>
  </div>

  <!-- SIGNUP POPUP -->
  <div id="signup-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Sign up</h3>
      <input id="signup-email" type="email" placeholder="Email">
      <input id="signup-password" type="password" placeholder="Password">
      <button id="signup-submit">Create account</button>
      <button class="close-modal">Cancel</button>
    </div>
  </div>
  </header>
</div>

<!-- Notifications -->
<div id="notifications"></div>

<script>
  window.addEventListener('load', () => {
    const splash = document.getElementById('splash-screen');
    
    // Wait 2 seconds for the "chalk line" animation to finish
    setTimeout(() => {
      splash.classList.add('hidden');
      
      // Optional: Remove it from the DOM entirely after fading out
      setTimeout(() => {
          splash.style.display = 'none'; 
      }, 600); // Matches the 0.6s CSS transition
      
    }, 2000); 
  });
</script>
<script type="module" src="firebase.js"></script>
<script type="module" src="script.js"></script>
</body>
</html>
