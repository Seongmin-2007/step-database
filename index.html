<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>STEP Question Database</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="splash-screen">
  <div class="splash-container">
    <svg class="fibonacci-svg" viewBox="0 0 100 100">
      <defs>
        <linearGradient id="goldGradient" x1="0%" y1="100%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#bf953f;stop-opacity:1" />
          <stop offset="50%" style="stop-color:#fcf6ba;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#b38728;stop-opacity:1" />
        </linearGradient>
        <filter id="glow">
          <feGaussianBlur stdDeviation="1.5" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>

      <path class="spiral-path" 
            d="M50,50 
               l0.5,0 a0.5,0.5 0 0 1 -0.5,0.5 
               a1,1 0 0 1 -1,-1 
               a2,2 0 0 1 2,-2 
               a3,3 0 0 1 3,3 
               a5,5 0 0 1 -5,5 
               a8,8 0 0 1 -8,-8 
               a13,13 0 0 1 13,-13 
               a21,21 0 0 1 21,21" 
            fill="none" 
            stroke="url(#goldGradient)" 
            stroke-width="0.5" 
            stroke-linecap="round"
            filter="url(#glow)" />
    </svg>

    <div class="text-container">
      <h1 class="elegant-title">MATH<span class="thin">DB</span></h1>
      <div class="loading-line"></div>
    </div>
  </div>
</div>

<div class="layout">

  <!-- LEFT SIDEBAR -->
  <aside class="sidebar">
    <h2>STEP Questions</h2>

    <input
      type="text"
      id="search"
      placeholder="Search (e.g. 21 S2 Q5)"
    >

    <ul id="questionList"></ul>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="content">
    <div id="viewer">
      <p class="placeholder">
        Select a question from the list.
      </p>
    </div>
  </main>

  <header class="topbar">
  <header class="topbar">
    <div class="auth-area">

      <!-- Logged OUT -->
      <div id="auth-buttons">
        <button id="login-btn">Log in</button>
        <button id="signup-btn">Sign up</button>
      </div>

      <!-- Logged IN -->
      <div id="user-menu" class="hidden">
        <button id="profile-btn" class="profile-circle">ðŸ‘¤</button>

        <div id="profile-dropdown" class="dropdown hidden">
          <button id="open-dashboard">Dashboard</button>
          <button id="logout-btn">Log out</button>
        </div>
      </div>

    </div>
  </header>

  <!-- LOGIN POPUP -->
  <div id="login-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Log in</h3>
      <input id="login-email" type="email" placeholder="Email">
      <input id="login-password" type="password" placeholder="Password">
      <button id="login-submit">Log in</button>
      <button class="close-modal">Cancel</button>
    </div>
  </div>

  <!-- SIGNUP POPUP -->
  <div id="signup-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Sign up</h3>
      <input id="signup-email" type="email" placeholder="Email">
      <input id="signup-password" type="password" placeholder="Password">
      <button id="signup-submit">Create account</button>
      <button class="close-modal">Cancel</button>
    </div>
  </div>
  </header>
</div>

<!-- Notifications -->
<div id="notifications"></div>

<script>
  window.addEventListener('load', () => {
    const splash = document.getElementById('splash-screen');
    
    // Wait 4 seconds for the full effect
    setTimeout(() => {
      splash.classList.add('hidden');
      
      // Remove from DOM to save resources
      setTimeout(() => {
          splash.style.display = 'none'; 
      }, 1200); 
    }, 4000); 
  });
</script>
<script type="module" src="firebase.js"></script>
<script type="module" src="script.js"></script>
</body>
</html>
